window.__require=function t(e,o,n){function r(a,c){if(!o[a]){if(!e[a]){var l=a.split("/");if(l=l[l.length-1],!e[l]){var s="function"==typeof __require&&__require;if(!c&&s)return s(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return r(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({Base64:[function(t,e,o){"use strict";cc._RF.push(e,"7ffa730WR1Bqa+JMGIgP34A","Base64"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.encode=function(e){if(/([^\u0000-\u00ff])/.test(e))throw new Error("INVALID_CHARACTER_ERR");for(var o,n,r,i=0,a=[];i<e.length;){switch(n=e.charCodeAt(i),r=i%3){case 0:a.push(t.base64hash.charAt(n>>2));break;case 1:a.push(t.base64hash.charAt((3&o)<<4|n>>4));break;case 2:a.push(t.base64hash.charAt((15&o)<<2|n>>6)),a.push(t.base64hash.charAt(63&n))}o=n,i++}return 0==r?(a.push(t.base64hash.charAt((3&o)<<4)),a.push("==")):1==r&&(a.push(t.base64hash.charAt((15&o)<<2)),a.push("=")),a.join("")},t.decode=function(e){e=e.replace(/\s|=/g,"");for(var o,n,r=0,i=[];r<e.length;){switch(o=t.base64hash.indexOf(e.charAt(r)),r%4){case 0:break;case 1:i.push(String.fromCharCode(n<<2|o>>4));break;case 2:i.push(String.fromCharCode((15&n)<<4|o>>2));break;case 3:i.push(String.fromCharCode((3&n)<<6|o))}n=o,r++}return i.join("")},t.base64hash="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t}();o.default=n,cc._RF.pop()},{}],StorageMgr:[function(t,e,o){"use strict";cc._RF.push(e,"263faIVkR5B7q0nDHluAGZU","StorageMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Base64"),r=function(){function t(){}return t.set=function(t,e,o){void 0===o&&(o=!1);var r;r=o?JSON.stringify(e):e,cc.sys.localStorage.setItem(n.default.encode(t),n.default.encode(r))},t.get=function(t,e){void 0===e&&(e=!1);var o=cc.sys.localStorage.getItem(n.default.encode(t));if(o){if(e)try{return JSON.parse(n.default.decode(o))}catch(r){return n.default.decode(o)}return n.default.decode(o)}return null},t.remove=function(t){cc.sys.localStorage.removeItem(n.default.encode(t))},t}();o.default=r,cc._RF.pop()},{"./Base64":"Base64"}],adUnit:[function(t,e,o){"use strict";cc._RF.push(e,"80136z80G9PtJSd/BzcUn2m","adUnit");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,function(){function t(){}var e;return e=t,t.startGetAd=function(t,e){if(cc.sys.platform===cc.sys.WECHAT_GAME){var o=300,n=(a=cc.view.getFrameSize()).width,r=a.height;(768==n&&1024==r||834==n&&1112==r||1024==n&&1366==r)&&(o=600);var i=wx.getSystemInfoSync();(c=wx.createBannerAd({adUnitId:t,style:{left:(i.windowWidth-o)/2,top:i.windowHeight-90,width:o},adIntervals:30})).onError(function(){}),e.bannerAd=c}else if(cc.sys.platform===cc.sys.BYTEDANCE_GAME){var a,c;o=300,n=(a=cc.view.getFrameSize()).width,r=a.height,(768==n&&1024==r||834==n&&1112==r||1024==n&&1366==r)&&(o=600),i=tt.getSystemInfoSync(),(c=tt.createBannerAd({adUnitId:t,style:{left:(i.windowWidth-o)/2,top:i.windowHeight-o/16*9,width:o},adIntervals:30})).onError(function(){}),e.bannerAd=c}},t.showAd=function(t,e){if(cc.sys.platform===cc.sys.WECHAT_GAME){var o=wx.getSystemInfoSync(),n=e;this.startGetAd(t,e),void 0!==n.bannerAd&&n.bannerAd.show(),n.bannerAd.onResize(function(){n.bannerAd.style.top=o.windowHeight-n.bannerAd.style.realHeight})}else if(cc.sys.platform===cc.sys.BYTEDANCE_GAME){var r=tt.getSystemInfoSync(),i=e;this.startGetAd(t,e),void 0!==i.bannerAd&&i.bannerAd.show(),i.bannerAd.onResize(function(t){i.bannerAd.style.top=r.windowHeight-t.height,i.bannerAd.style.left=(r.windowWidth-t.width)/2})}},t.destroyBannerAd=function(t){cc.sys.platform===cc.sys.WECHAT_GAME?t.bannerAd.destroy():cc.sys.platform===cc.sys.BYTEDANCE_GAME&&t.bannerAd.destroy()},t.getVideoAd=function(t){if(cc.sys.platform===cc.sys.WECHAT_GAME){if(null!==this.videoAd)return;var e=wx.createRewardedVideoAd({adUnitId:t}),o=this;this.videoAd=e,this.videoAd.onError(function(){o.needAddCoin=0}),this.videoAd.onClose(function(t){t&&t.isEnded||void 0===t?o.needAddCoin>0&&o.adFinished(o.watchAdType):(o.needAddCoin=0,o.isWatchAdType=0,o.adFailed())})}else if(cc.sys.platform===cc.sys.BYTEDANCE_GAME){if(null!==this.videoAd)return;e=tt.createRewardedVideoAd({adUnitId:t});var n=this;this.videoAd=e,this.videoAd.onError(function(){n.needAddCoin=0}),this.videoAd.onClose(function(t){t&&t.isEnded||void 0===t?n.needAddCoin>0&&n.adFinished(n.watchAdType):(n.needAddCoin=0,n.isWatchAdType=0,n.adFailed())})}},t.openVideoAd=function(t,o,n,r){var i=this;void 0===n&&(n=function(){}),void 0===r&&(r=function(){}),cc.sys.platform===cc.sys.WECHAT_GAME?this.videoAd?(this.adFinished=n,this.adFailed=r,void 0===this.videoAd&&(e.showAppMessage("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25"),this.adFailed()),null===this.videoAd?(e.showAppMessage("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25"),this.adFailed()):(this.needAddCoin=t,this.watchAdType=o,this.videoAd.show().catch(function(){i.videoAd.load().then(function(){return i.videoAd.show()}).catch(function(t){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25",t),e.showAppMessage("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25"),i.adFailed()})}))):(e.showAppMessage("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25"),this.adFailed()):cc.sys.platform===cc.sys.BYTEDANCE_GAME?this.videoAd?(this.adFinished=n,this.adFailed=r,void 0===this.videoAd&&this.adFailed(),null===this.videoAd?(this.adFailed(),e.showAppMessage("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25")):(this.needAddCoin=t,this.watchAdType=o,this.videoAd.show().catch(function(){i.videoAd.load().then(function(){return i.videoAd.show()}).catch(function(){i.adFailed(),e.showAppMessage("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25")})}))):(r(),e.showAppMessage("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25")):r()},t.showInstertialAd=function(t){if(cc.sys.platform===cc.sys.WECHAT_GAME){var e=null;wx.createInterstitialAd&&(e=wx.createInterstitialAd({adUnitId:t})),e&&e.show().catch(function(){})}else cc.sys.platform===cc.sys.BYTEDANCE_GAME&&(e=null,tt.createInterstitialAd&&(e=tt.createInterstitialAd({adUnitId:t})),e&&e.show().catch(function(){}))},t.isIphoneX=function(){var t=cc.view.getFrameSize(),e=t.width,o=t.height;return 375===e&&812===o||414===e&&896===o||390===e&&844===o||428===e&&926===o},t.showAppMessage=function(t){CC_WECHATGAME&&wx.showToast({title:t,icon:"none",duration:2e3})},t.videoAd=null,t.needAddCoin=0,t.isWatchAdType=0,t.watchAdType=0,t.adFinished=null,t.adFailed=null,t.bannerAdStr="adunit-1313e5c490ada863",t.videoAdStr="adunit-204af20a443ceadc",t.intertialAdIdentifier="adunit-c80e19d17b348833",e=n([i],t)}());o.default=a,cc._RF.pop()},{}],ballBottomView:[function(t,e,o){"use strict";cc._RF.push(e,"cdc636Nhu5LkJNkqCvhPUn3","ballBottomView");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.undoCountNode=null,e.addCupIcon=null,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.I=this},e.prototype.start=function(){},e.prototype.refreshTipCountLabel=function(t){this.undoCountNode.active=!(t<=0),this.undoCountNode.getChildByName("num").getComponent(cc.Label).string=String(t)},e.prototype.showAddCupIcon=function(t){this.addCupIcon.active=!!t},e.prototype.isCanAddCup=function(){return 1==this.addCupIcon.active},i([l(cc.Node)],e.prototype,"undoCountNode",void 0),i([l(cc.Node)],e.prototype,"addCupIcon",void 0),o=i([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],ballCup:[function(t,e,o){"use strict";cc._RF.push(e,"c43c6Wv/6lOdqEvK0CWZbJH","ballCup");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../scripts/gameTools"),c=t("./ballGameScene"),l=t("./ballUITools"),s=cc._decorator,u=s.ccclass,p=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ball=null,e.mask=null,e.gouIcon=null,e.errorIcon=null,e._ballPosList=Array(),e._ballList=Array(),e.isFullAndComplete=!1,e}return r(e,t),e.prototype.onDestroy=function(){this.node.off("touchend",this.touchEndAction,this)},e.prototype.onLoad=function(){for(var t=90,e=0;e<4;e++){var o=cc.v3(0,t,0);this._ballPosList.push(o),t-=60}},e.prototype.start=function(){this.isFullAndComplete=!1,this.gouIcon.active=!1,this.node.on("touchend",this.touchEndAction,this)},e.prototype.ballJumpCupPos=function(){return cc.v3(0,160,0)},e.prototype.ballInCupPosition=function(t){var e=this.mask.children.indexOf(t);return-1!=e?this._ballPosList[3-e]:cc.v3(0,0,0)},e.prototype.getBallAddInCupPosition=function(){var t=3-this.mask.children.length;return this._ballPosList[t]},e.prototype.getTopBall=function(){var t=this.mask.children;return t.length>0?t[t.length-1]:null},e.prototype.isEmpty=function(){return 0==this.mask.children.length},e.prototype.isFull=function(){return 4==this.mask.children.length},e.prototype.delBall=function(t){-1!=this.mask.children.indexOf(t)&&t.removeFromParent()},e.prototype.addBall=function(t){t.parent=this.mask;var e=4-this.mask.children.length;t.position=this._ballPosList[e]},e.prototype.refreshWithBallIdxs=function(t){for(var e=t.length-1;e>=0;e--)if(0!=t[e]){var o=cc.instantiate(this.ball);o.parent=this.mask,l.default.setBallSprite(o,t[e]);var n={ballTag:t[e]};o.attr(n),o.position=this._ballPosList[e],this._ballList.splice(3-e,0,o)}},e.prototype.cupIsComplete=function(){return this.isEmpty()||this.isFullAndComplete},e.prototype.checkCupIsSuccess=function(){return this.cupIsSuccss()?(this.isFullAndComplete=!0,this.node.getChildByName("Particle2D").getComponent(cc.ParticleSystem).resetSystem(),!0):(this.isFullAndComplete=!1,!1)},e.prototype.cupIsSuccss=function(){var t=this.mask.children;if(4!=t.length)return!1;for(var e=0;e<t.length;e++)if(t[0].ballTag!=t[e].ballTag)return!1;return!0},e.prototype.touchEndAction=function(){1!=this.isFullAndComplete&&(a.default.vibrateShort(),c.default.I.cupClickAction(this))},e.prototype.showGouIcon=function(){this.gouIcon.active=!0},e.prototype.showErrorIcon=function(){this.errorIcon.active=!0},e.prototype.hideAllIcon=function(){this.gouIcon.active=!1,this.errorIcon.active=!1},e.prototype.huishouBall=function(){},i([p(cc.Prefab)],e.prototype,"ball",void 0),i([p(cc.Node)],e.prototype,"mask",void 0),i([p(cc.Node)],e.prototype,"gouIcon",void 0),i([p(cc.Node)],e.prototype,"errorIcon",void 0),i([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../scripts/gameTools":"gameTools","./ballGameScene":"ballGameScene","./ballUITools":"ballUITools"}],ballGameScene:[function(t,e,o){"use strict";cc._RF.push(e,"c2801/srpVKZ7lmrp/m7Dw5","ballGameScene");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../scripts/adUnit"),c=t("../../scripts/consts"),l=t("../../scripts/gameTools"),s=t("../../scripts/gameUITools"),u=t("./ballBottomView"),p=t("./ballCup"),d=t("./ballUITools"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelLabel=null,e.upLayout=null,e.centerLayout=null,e.downLayout=null,e.cupPrefab=null,e.successView=null,e.topView=null,e.bottomView=null,e.tip=null,e.pauseVie=null,e.soundIcon=null,e.noSoundIcon=null,e.pauseMaskBG=null,e.ballIdsArray=Array(),e.curLevelIdx=1,e.selectedCup=null,e.undoArray=Array(),e.addedEmptyCup=null,e.watchAdType=0,e}var o;return r(e,t),o=e,e.prototype.initGDSDK=function(){var t,e,o,n,r;window.GD_OPTIONS={gameId:"651c70d761ce4ddcaa1b1297bb28a278",loader:{enabled:!0},onEvent:function(t){switch(t.name){case"SDK_GAME_START":case"SDK_GAME_PAUSE":case"SDK_GDPR_TRACKING":case"SDK_GDPR_TARGETING":break;case"SDK_REWARDED_WATCH_COMPLETE":"function"==typeof this.rewardADCompelete&&this.rewardADCompelete()}}},e="script",o="gamedistribution-jssdk",r=(t=document).getElementsByTagName(e)[0],t.getElementById(o)||((n=t.createElement(e)).id=o,n.src="https://html5.api.gamedistribution.com/main.min.js",r.parentNode.insertBefore(n,r))},e.prototype.onLoad=function(){o.I=this;var t=cc.Canvas.instance,e=t.designResolution,n=cc.view.getFrameSize();n.width/n.height>e.width/e.height?(t.fitHeight=!0,t.fitWidth=!1):(t.fitHeight=!1,t.fitWidth=!0)},e.prototype.start=function(){this.curLevelIdx=l.default.getBallCompeleteLevelIdx(),this.startGameWithLevelIdx(this.curLevelIdx),a.default.getVideoAd(a.default.videoAdStr),this.refershSoundIconStatus(),d.default.telegramGameStartEvent()},e.prototype.onDestroy=function(){},e.prototype.startGameWithLevelIdx=function(t){var e=this;this.clearGameContent(),this.loadBallLevel(t,function(){e.updataGameContent()})},e.prototype.loadBallLevel=function(t,e){var o=this,n="TextAsset/Lv_"+t;cc.resources.load(n,cc.JsonAsset,function(t,n){for(var r=n.json.ids.map(Number),i=r.length/4,a=0;a<i;a++){var c=4*a,l=c+4,s=r.slice(c,l);o.ballIdsArray.push(s)}e&&e()})},e.prototype.clearGameContent=function(){this.upLayout.removeAllChildren(),this.centerLayout.removeAllChildren(),this.downLayout.removeAllChildren(),this.undoArray.splice(0,this.undoArray.length),this.ballIdsArray.splice(0,this.ballIdsArray.length),this.bottomView.getComponent("ballBottomView").refreshTipCountLabel(0),this.bottomView.getComponent("ballBottomView").showAddCupIcon(!0),this.selectedCup=null},e.prototype.updataGameContent=function(){var t=this.ballIdsArray.length;if(t<=5){for(var e=0;e<t;e++){var o=this.ballIdsArray[e];(n=cc.instantiate(this.cupPrefab)).parent=this.centerLayout,n.getComponent(p.default).refreshWithBallIdxs(o)}this.addOneEmptyCup(this.centerLayout)}else if(t<=9){for(e=0,e=0;e<5;e++)o=this.ballIdsArray[e],(n=cc.instantiate(this.cupPrefab)).parent=this.upLayout,n.getComponent(p.default).refreshWithBallIdxs(o);for(;e<t;e++)o=this.ballIdsArray[e],(n=cc.instantiate(this.cupPrefab)).parent=this.centerLayout,n.getComponent(p.default).refreshWithBallIdxs(o);this.addOneEmptyCup(this.centerLayout)}else if(t<=11){for(e=0,e=0;e<4;e++)o=this.ballIdsArray[e],(n=cc.instantiate(this.cupPrefab)).parent=this.upLayout,n.getComponent(p.default).refreshWithBallIdxs(o);for(;e<8;e++)o=this.ballIdsArray[e],(n=cc.instantiate(this.cupPrefab)).parent=this.centerLayout,n.getComponent(p.default).refreshWithBallIdxs(o);for(;e<t;e++)o=this.ballIdsArray[e],(n=cc.instantiate(this.cupPrefab)).parent=this.downLayout,n.getComponent(p.default).refreshWithBallIdxs(o);this.addOneEmptyCup(this.downLayout)}else if(t<=13){for(e=0,e=0;e<5;e++)o=this.ballIdsArray[e],(n=cc.instantiate(this.cupPrefab)).parent=this.upLayout,n.getComponent(p.default).refreshWithBallIdxs(o);for(;e<10;e++)o=this.ballIdsArray[e],(n=cc.instantiate(this.cupPrefab)).parent=this.centerLayout,n.getComponent(p.default).refreshWithBallIdxs(o);for(;e<t;e++)o=this.ballIdsArray[e],(n=cc.instantiate(this.cupPrefab)).parent=this.downLayout,n.getComponent(p.default).refreshWithBallIdxs(o);this.addOneEmptyCup(this.downLayout)}else if(t<=15){for(e=0,e=0;e<5;e++)o=this.ballIdsArray[e],(n=cc.instantiate(this.cupPrefab)).parent=this.upLayout,n.getComponent(p.default).refreshWithBallIdxs(o);for(;e<10;e++)o=this.ballIdsArray[e],(n=cc.instantiate(this.cupPrefab)).parent=this.centerLayout,n.getComponent(p.default).refreshWithBallIdxs(o);for(;e<t;e++){var n;o=this.ballIdsArray[e],(n=cc.instantiate(this.cupPrefab)).parent=this.downLayout,n.getComponent(p.default).refreshWithBallIdxs(o)}this.addOneEmptyCup(this.downLayout)}this.updateTopView()},e.prototype.addOneEmptyCup=function(t){var e=cc.instantiate(this.cupPrefab);e.parent=t,e.getComponent(p.default).refreshWithBallIdxs([0,0,0,0]),this.addedEmptyCup=e,this.addedEmptyCup.active=!1},e.prototype.backGameAction=function(){l.default.playSound(c.SoundType.btnClick),cc.director.loadScene("start")},e.prototype.playPauseVieAnimation=function(){this.pauseVie&&(this.pauseVie.opacity=0,this.pauseVie.active=!0,cc.tween(this.pauseVie).to(.5,{opacity:255},{easing:"sineIn"}).start())},e.prototype.playPauseVieHideAnimation=function(){var t=this;this.pauseVie&&(this.pauseVie.opacity=255,this.pauseVie.active=!0,cc.tween(this.pauseVie).to(.5,{opacity:0},{easing:"sineOut"}).call(function(){t.pauseVie.active=!1}).start())},e.prototype.pauseGameAction=function(){l.default.playSound(c.SoundType.btnClick),this.playPauseVieAnimation()},e.prototype.pauseView_soundAction=function(){1==l.default.getSoundFlag()?l.default.setSoundFlag(0):(l.default.setSoundFlag(1),l.default.playSound(c.SoundType.btnClick)),this.refershSoundIconStatus()},e.prototype.refershSoundIconStatus=function(){1==l.default.getSoundFlag()?(this.soundIcon.active=!0,this.noSoundIcon.active=!1):(this.soundIcon.active=!1,this.noSoundIcon.active=!0)},e.prototype.pauseView_connectWalletAction=function(){if(l.default.playSound(c.SoundType.btnClick),window.tonConnect&&window.tonConnect.connect()){alert("\u2705 \u94b1\u5305\u5df2\u8fde\u63a5\uff01");var t=window.tonConnect.accountInfo();console.log("Wallet Address:",null==t?void 0:t.address)}},e.prototype.pauseView_MoreGameAction=function(){l.default.playSound(c.SoundType.btnClick),window.Telegram&&window.Telegram.WebApp.openTelegramLink("https://t.me/bestpuzzlegame")},e.prototype.pauseView_paihangbangAction=function(){l.default.playSound(c.SoundType.btnClick)},e.prototype.pauseView_restartAction=function(){l.default.playSound(c.SoundType.btnClick),this.startGameWithLevelIdx(this.curLevelIdx),this.playPauseVieHideAnimation()},e.prototype.pauseView_continueAction=function(){l.default.playSound(c.SoundType.btnClick),this.playPauseVieHideAnimation()},e.prototype.pauseView_homeAction=function(){l.default.playSound(c.SoundType.btnClick),cc.director.loadScene("frituSortStartScene")},e.prototype.processAllCup=function(t){var e=this.checkAllup(t),o=e[0],n=e[1];if(0==o.length)return this.showTipInfo("No suitable position"),!1;if(1==o.length){var r=o[0];return this.twoCupMove(t,r),!0}for(var i=!0,a=0;a<o.length;a++)if(0==(c=o[a]).isEmpty()){i=!1;break}if(i)return r=o[0],this.twoCupMove(t,r),!0;for(r=null,a=0;a<o.length;a++){var c,l=(c=o[a]).mask.children;if(3==l.length&&l[0].ballTag==l[1].ballTag&&l[1].ballTag==l[2].ballTag){r=c;break}}return null==r?(o.forEach(function(t){t.showGouIcon()}),n.forEach(function(t){t.showErrorIcon()}),!1):(this.twoCupMove(t,r),!0)},e.prototype.playSuccessViewFadeInAnimation=function(){this.successView&&(this.successView.opacity=0,this.successView.active=!0,cc.tween(this.successView).to(.5,{opacity:255},{easing:"sineIn"}).start())},e.prototype.playSuccessViewFadeOutAnimation=function(){var t=this;this.successView&&(this.successView.opacity=255,this.successView.active=!0,cc.tween(this.successView).to(.5,{opacity:0},{easing:"sineOut"}).call(function(){t.successView.active=!1}).start())},e.prototype.twoCupMove=function(t,e){var o=this,n=this.check2CupCanMove(t,e,function(){e.checkCupIsSuccess()?1==o.checkGameStatus()?(l.default.playSound(c.SoundType.ballWin),o.playSuccessViewFadeInAnimation(),l.default.storeBallCompeleteLevelIdx(o.curLevelIdx+1),o.saveScore(),o.showChaYaAd(),d.default.telegramGameEndEvent(o.curLevelIdx)):l.default.playSound(c.SoundType.ballCupComplete):l.default.playSound(c.SoundType.ballCupClick)});return n&&(this.selectedCup=null),n},e.prototype.saveScore=function(){if(window.submitScore&&window.Telegram){var t=window.Telegram.WebApp.initDataUnsafe.user,e=t.id.toString(),o=t.username,n=t.photo_url;window.submitScore(e,{nickName:o,avatarUrl:n},this.curLevelIdx)}},e.prototype.showChaYaAd=function(){},e.prototype.showRewardAd=function(){},e.prototype.rewardADCompelete=function(){},e.prototype.cupClickAction=function(t){null==this.selectedCup?(this.selectedCup=t,0==this.processAllCup(t)&&(this.ballMoveUp(t),l.default.playSound(c.SoundType.ballCupClick))):this.selectedCup==t?(l.default.playSound(c.SoundType.ballCupClick),this.ballMoveDown(t),this.selectedCup=null,this.hideAllCupIcon()):this.twoCupMove(this.selectedCup,t)?(this.selectedCup=null,this.hideAllCupIcon()):(this.ballMoveDown(this.selectedCup),this.hideAllCupIcon(),this.selectedCup=t,0==this.processAllCup(t)&&(this.ballMoveUp(t),l.default.playSound(c.SoundType.ballCupClick)))},e.prototype.hideAllCupIcon=function(){var t=this.upLayout.children,e=this.centerLayout.children,o=this.downLayout.children;t=t.concat(e).concat(o);for(var n=0;n<t.length;n++)t[n].getComponent(p.default).hideAllIcon()},e.prototype.checkAllup=function(t){var e=this.upLayout.children,o=this.centerLayout.children,n=this.downLayout.children;e=e.concat(o).concat(n);for(var r=Array(),i=Array(),a=0;a<e.length;a++){var c=e[a];if(c!=t.node&&1==c.active){var l=c.getComponent(p.default);if(l.isEmpty())r.push(l);else if(l.isFull())i.push(l);else{var s=t.getTopBall(),u=l.getTopBall();s.ballTag==u.ballTag?r.push(l):i.push(l)}}}return[r,i]},e.prototype.ballMoveUp=function(t){var e=t.getTopBall();null!=e&&cc.tween(e).to(.1,{position:t.ballJumpCupPos()}).call(function(){}).start()},e.prototype.ballMoveDown=function(t){var e=t.getTopBall();null!=e&&cc.tween(e).to(.1,{position:t.ballInCupPosition(e)}).call(function(){}).start()},e.prototype.check2CupCanMove=function(t,e,o){if(void 0===o&&(o=null),t.isEmpty())return!1;if(e.isEmpty())return this.moveFirst2Second(t,e,o),this.storeMoveInfo(t,e),this.updateBottomView(),!0;if(e.isFull())return!1;var n=t.getTopBall(),r=e.getTopBall();return n.ballTag==r.ballTag&&(this.moveFirst2Second(t,e,o),this.storeMoveInfo(t,e),this.updateBottomView(),!0)},e.prototype.moveFirst2Second=function(t,e,o){void 0===o&&(o=null);var n=t.getTopBall(),r=s.default.convetOtherNodeSpaceAR2(e.node,e.ballJumpCupPos(),t.node),i=s.default.convetOtherNodeSpaceAR2(e.node,e.getBallAddInCupPosition(),t.node);cc.tween(n).to(.05,{position:t.ballJumpCupPos()}).to(.05,{position:r}).to(.05,{position:i}).call(function(){t.delBall(n),e.addBall(n),o&&o()}).start()},e.prototype.checkGameStatus=function(){var t=this.upLayout.children,e=this.centerLayout.children,o=this.downLayout.children;t=t.concat(e).concat(o);for(var n=0;n<t.length;n++)if(0==t[n].getComponent("ballCup").cupIsComplete())return!1;return!0},e.prototype.updateTopView=function(){this.levelLabel.string="Level "+this.curLevelIdx},e.prototype.updateBottomView=function(){var t=this.undoArray.length;this.bottomView.getComponent("ballBottomView").refreshTipCountLabel(t)},e.prototype.storeMoveInfo=function(t,e){var o=[t,e];this.undoArray.push(o),this.undoArray.length>5&&this.undoArray.shift()},e.prototype.undoAction=function(){var t=this;if(l.default.playSound(c.SoundType.btnClick),this.undoArray.length>0){var e=this.undoArray.pop(),o=e[0],n=e[1];this.selectedCup!=o&&this.selectedCup!=n||(this.ballMoveDown(this.selectedCup),this.selectedCup=null),this.moveFirst2Second(n,o,function(){o.checkCupIsSuccess(),n.checkCupIsSuccess(),t.updateBottomView()})}else this.updateBottomView()},e.prototype.restartAction=function(){l.default.playSound(c.SoundType.btnClick),this.startGameWithLevelIdx(this.curLevelIdx)},e.prototype.jumpCurrentLevelAction=function(){},e.prototype.addCupAction=function(){u.default.I.isCanAddCup()||this.showTipInfo("Only one cup can be added")},e.prototype.success_nextLevel=function(){this.playSuccessViewFadeOutAnimation(),this.curLevelIdx+=1,this.startGameWithLevelIdx(this.curLevelIdx)},e.prototype.fitIphoneX=function(){s.default.isIphoneX()&&(this.topView.getComponent(cc.Widget).top+=44,this.bottomView.getComponent(cc.Widget).bottom=44)},e.prototype.fitIpad=function(){if(s.default.isIpad()){var t=this.node.getComponent(cc.Canvas);t.fitHeight=!0,t.fitWidth=!1}},e.prototype.showTipInfo=function(t){var e=this;0==this.tip.active&&(this.tip.active=!0,this.tip.opacity=255,this.tip.y=0,this.tip.getChildByName("Label").getComponent(cc.Label).string=t,cc.tween(this.tip).by(.5,{position:cc.v3(0,80,0)}).to(.3,{opacity:0}).call(function(){e.tip.active=!1}).start())},i([y(cc.Label)],e.prototype,"levelLabel",void 0),i([y(cc.Node)],e.prototype,"upLayout",void 0),i([y(cc.Node)],e.prototype,"centerLayout",void 0),i([y(cc.Node)],e.prototype,"downLayout",void 0),i([y(cc.Prefab)],e.prototype,"cupPrefab",void 0),i([y(cc.Node)],e.prototype,"successView",void 0),i([y(cc.Node)],e.prototype,"topView",void 0),i([y(cc.Node)],e.prototype,"bottomView",void 0),i([y(cc.Node)],e.prototype,"tip",void 0),i([y(cc.Node)],e.prototype,"pauseVie",void 0),i([y(cc.Node)],e.prototype,"soundIcon",void 0),i([y(cc.Node)],e.prototype,"noSoundIcon",void 0),i([y(cc.Node)],e.prototype,"pauseMaskBG",void 0),o=i([h],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../scripts/adUnit":"adUnit","../../scripts/consts":"consts","../../scripts/gameTools":"gameTools","../../scripts/gameUITools":"gameUITools","./ballBottomView":"ballBottomView","./ballCup":"ballCup","./ballUITools":"ballUITools"}],ballSuccessView:[function(t,e,o){"use strict";cc._RF.push(e,"d66fdGBzyFAnY/eRJFoLa4m","ballSuccessView");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../scripts/consts"),c=t("../../scripts/gameTools"),l=t("./ballGameScene"),s=t("./ballUITools"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winParticleSystem=null,e}return r(e,t),e.prototype.start=function(){},e.prototype.showSuccessView=function(){},e.prototype.nextLevelAction=function(){c.default.playSound(a.SoundType.btnClick),l.default.I.success_nextLevel()},e.prototype.shareGameAction=function(){c.default.playSound(a.SoundType.btnClick),s.default.shareTelegram()},i([d(cc.Prefab)],e.prototype,"winParticleSystem",void 0),i([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../scripts/consts":"consts","../../scripts/gameTools":"gameTools","./ballGameScene":"ballGameScene","./ballUITools":"ballUITools"}],ballUITools:[function(t,e,o){"use strict";cc._RF.push(e,"f1593hB6GpKLrtw/gOTKvIS","ballUITools");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,function(){function t(){}return t.setBallSprite=function(t,e){var o="ballGame/balls/"+e;cc.loader.loadRes(o,cc.SpriteFrame,function(e,o){e||(t.getComponent(cc.Sprite).spriteFrame=o)})},t.shareTelegram=function(){if(window.Telegram){var t=window.Telegram.WebApp.initDataUnsafe.user.id.toString(),e="https://t.me/share/url?url="+encodeURIComponent("https://t.me/FruitStackBot/FruitStack?startapp="+t)+"&text="+encodeURIComponent("I just discovered an awesome game \u2014 Fruit Stack! Can you beat my score? Let's find out!");window.Telegram.WebApp.openTelegramLink(e)}},t.telegramGameStartEvent=function(){window.Telegram&&window.telegramAnalytics.logEvent("game_start")},t.telegramGameEndEvent=function(t){window.Telegram&&window.telegramAnalytics.logEvent("game_win",{level:t})},n([i],t)}());o.default=a,cc._RF.pop()},{}],ball:[function(t,e,o){"use strict";cc._RF.push(e,"fc8f46DfRBNxZUbHJsXXmEd","ball");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){},i([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],consts:[function(t,e,o){"use strict";cc._RF.push(e,"ae8a2TdOq9DFoZtNij9zA8y","consts");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ItemStatus=o.GameStatus=o.SoundType=void 0;var r=cc._decorator,i=r.ccclass;r.property,function(t){t[t.bomb=1]="bomb",t[t.check=2]="check",t[t.mark=3]="mark",t[t.mode=4]="mode",t[t.null=5]="null",t[t.start=6]="start",t[t.win=7]="win",t[t.btnClick=8]="btnClick",t[t.ballWin=9]="ballWin",t[t.ballCupComplete=10]="ballCupComplete",t[t.ballCupClick=11]="ballCupClick"}(o.SoundType||(o.SoundType={})),function(t){t[t.run=1]="run",t[t.end=2]="end",t[t.flag=3]="flag"}(o.GameStatus||(o.GameStatus={})),function(t){t[t.normal=1]="normal",t[t.clicked=2]="clicked",t[t.flag=3]="flag",t[t.question=4]="question"}(o.ItemStatus||(o.ItemStatus={}));var a=function(){function t(){}return t.cellWidth=80,n([i],t)}();o.default=a,cc._RF.pop()},{}],frituSortLoadingScene:[function(t,e,o){"use strict";cc._RF.push(e,"317a0O/yItDdL8G+dgf8JEK","frituSortLoadingScene");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./loadPool"),c=cc._decorator,l=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){var t=cc.Canvas.instance,e=t.designResolution,o=cc.view.getFrameSize();o.width/o.height>e.width/e.height?(t.fitHeight=!0,t.fitWidth=!1):(t.fitHeight=!1,t.fitWidth=!0)},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.resLoad()},e.prototype.resLoad=function(){this.loadPrefab("ballGame/cup/ballCup",function(t,e){t?console.error("Failed to load prefab ballGame/cup/ballCup:",t):a.default.ins.setPrefab("ballCup",e)});for(var t=function(t){var o="ballGame/ballPrefab/"+t;e.loadPrefab(o,function(e,n){e?console.error("Failed to load prefab "+o+":",e):(a.default.ins.setPrefab(""+t,n),12===t&&(console.log("All prefabs loaded successfully, loading start scene..."),cc.director.loadScene("frituSortStartScene")))})},e=this,o=1;o<=12;o++)t(o)},e.prototype.loadPrefab=function(t,e){cc.loader.loadRes(t,cc.Prefab,function(o,n){o&&console.error("Error loading prefab "+t+":",o),e(o,n)})},i([l],e)}(cc.Component));o.default=s,cc._RF.pop()},{"./loadPool":"loadPool"}],frituSortStartScene:[function(t,e,o){"use strict";cc._RF.push(e,"255c6coLiBLX7KdQC/hZLaf","frituSortStartScene");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../scripts/consts"),c=t("../../scripts/gameTools"),l=t("./ballUITools"),s=cc._decorator,u=s.ccclass,p=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundIcon=null,e.noSoundIcon=null,e.rankNode=null,e}return r(e,t),e.prototype.onLoad=function(){var t=cc.Canvas.instance,e=t.designResolution,o=cc.view.getFrameSize();o.width/o.height>e.width/e.height?(t.fitHeight=!0,t.fitWidth=!1):(t.fitHeight=!1,t.fitWidth=!0)},e.prototype.start=function(){this.refershSoundIconStatus()},e.prototype.refershSoundIconStatus=function(){1==c.default.getSoundFlag()?(this.soundIcon.active=!0,this.noSoundIcon.active=!1):(this.soundIcon.active=!1,this.noSoundIcon.active=!0)},e.prototype.startGameAction=function(){c.default.playSound(a.SoundType.btnClick),cc.director.loadScene("ballGameScene",function(){})},e.prototype.shareGameAction=function(){c.default.playSound(a.SoundType.btnClick),l.default.shareTelegram()},e.prototype.rankAction=function(){c.default.playSound(a.SoundType.btnClick),this.rankNode.active=!0},e.prototype.closeRankAction=function(){c.default.playSound(a.SoundType.btnClick),this.rankNode.active=!1},e.prototype.moreGameAction=function(){c.default.playSound(a.SoundType.btnClick),window.Telegram&&window.Telegram.WebApp.openTelegramLink("https://t.me/bestpuzzlegame")},e.prototype.soundGameAction=function(){1==c.default.getSoundFlag()?c.default.setSoundFlag(0):(c.default.setSoundFlag(1),c.default.playSound(a.SoundType.btnClick)),this.refershSoundIconStatus()},i([p(cc.Node)],e.prototype,"soundIcon",void 0),i([p(cc.Node)],e.prototype,"noSoundIcon",void 0),i([p(cc.Node)],e.prototype,"rankNode",void 0),i([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../scripts/consts":"consts","../../scripts/gameTools":"gameTools","./ballUITools":"ballUITools"}],gameTools:[function(t,e,o){"use strict";cc._RF.push(e,"228b5oOkZtFHIyBO+rWsfAU","gameTools");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,t("../encryPT/StorageMgr")),c=t("./consts"),l=function(){function t(){}var e;return e=t,t.getLevelData=function(t){if(1==t)return[9,9,10];if(2==t)return[16,16,40];if(3==t)return[16,30,99];if(4==t)return[18,30,112];if(5==t)return[20,30,126];if(6==t)return[22,30,139];if(7==t)return[24,30,158];if(8==t){var e=this.getCustomLevelData();return null==e?[19,21,92]:e}return[9,9,10]},t.getLevelNameByIdx=function(t){return 1==t?"\u521d\u7ea7":2==t?"\u4e2d\u7ea7":3==t?"\u9ad8\u7ea7":4==t?"\u56f0\u96be":5==t?"\u4e13\u4e1a":6==t?"\u5927\u5e08":7==t?"\u4e13\u5bb6":8==t?"\u81ea\u5b9a\u4e49":"\u521d\u7ea7"},t.getLevelEnNameByIdx=function(t){return 1==t?"esay":2==t?"medium":3==t?"high":4==t?"hard":5==t?"expert":6==t?"mast":7==t?"zhuanjia":8==t?"custom":"esay"},t.playSound=function(t){var e=this;if(1==this.getSoundFlag()){var o="audios/";t==c.SoundType.bomb?o+="tsbomb":t==c.SoundType.check?o+="tscheck":t==c.SoundType.mark?o+="tsmark":t==c.SoundType.mode?o+="tsmode":t==c.SoundType.null?o+="tsnull":t==c.SoundType.start?o+="tsstart":t==c.SoundType.win?o+="tswin":t==c.SoundType.btnClick?o+="tsbtnClick":t==c.SoundType.ballCupClick?o="ballGame/audios/ballClickCup":t==c.SoundType.ballCupComplete?o="ballGame/audios/ballMerge":t==c.SoundType.ballWin&&(o="ballGame/audios/ballWin");var n=this.SoundDict[o];if(null!=n)return c.SoundType.ballWin,cc.audioEngine.setEffectsVolume(.25),void cc.audioEngine.playEffect(n,!1);cc.resources.load(o,cc.AudioClip,function(t,n){t||(e.SoundDict[o]=n,c.SoundType.ballWin,cc.audioEngine.setEffectsVolume(.25),cc.audioEngine.playEffect(n,!1))})}},t.getLeiPointBy=function(t,e,o,n){var r=c.default.cellWidth,i=Math.floor((e-1)/2),a=Math.floor((t-1)/2),l=(n-i)*r;e%2==0&&(l=(n-i-.5)*r);var s=(o-a)*r;return t%2==0&&(s=(o-a-.5)*r),new cc.Vec3(l,-s,0)},t.setSoundFlag=function(t){localStorage.setItem("sound",""+t)},t.getSoundFlag=function(){var t=localStorage.getItem("sound");return null==t||void 0===t||""==t?1:parseInt(t,10)},t.getCustomLevelData=function(){var t=localStorage.getItem("rowData"),e=localStorage.getItem("colData"),o=localStorage.getItem("countData");return null!=t&&""!=t&&null!=e&&""!=e&&null!=o&&""!=o?[parseInt(t,10),parseInt(e,10),parseInt(o,10)]:null},t.storeCustomLevelData=function(t,e,o){localStorage.setItem("rowData",""+t),localStorage.setItem("colData",""+e),localStorage.setItem("countData",""+o)},t.getLevelIdx=function(){var t=localStorage.getItem("levelIdx");return null!=t&&""!=t?parseInt(t,10):1},t.setLevelIdx=function(t){localStorage.setItem("levelIdx",""+t)},t.storeGameData=function(t,e,o,n){var r=(new Date).toDateString()+"#"+e,i=this.getLevelEnNameByIdx(t);!1===n&&(i="L_"+i),8===t&&(r=r+"#"+o);var a=localStorage.getItem(i);""===a||null==a?localStorage.setItem(i,r):(a=a+"&"+r,localStorage.setItem(i,a))},t.getGameData=function(t,e){var o=this.getLevelEnNameByIdx(t);return!1===e&&(o="L_"+o),localStorage.getItem(o)},t.getPassCount=function(){var t=this.getGameData(this.getLevelIdx(),!0);return""===t||null==t?0:-1===t.indexOf("&")?1:t.split("&").length},t.getLossCount=function(){var t=this.getGameData(this.getLevelIdx(),!1);return""===t||null==t?0:-1===t.indexOf("&")?1:t.split("&").length},t.randomGetShareImageUrl=function(){return"https://mmocgame.qpic.cn/wechatgame/8CFjR7MxbUFxTMNfjx3d4Ja04eicBHKN5Yav7FrT8JaE2hxJsWkv3S8Sb5LyiaXjQf/0"},t.showAppMessage=function(t){CC_WECHATGAME&&wx.showToast({title:t,icon:"none",duration:2e3})},t.vibrateShort=function(t){void 0===t&&(t="light"),cc.sys.platform===cc.sys.WECHAT_GAME&&wx&&wx.vibrateShort({type:t,style:t})},t.storeBallCompeleteLevelIdx=function(t){t>e.getBallCompeleteLevelIdx()&&a.default.set("curBallGameLevelIdx",""+t)},t.getBallCompeleteLevelIdx=function(){var t=a.default.get("curBallGameLevelIdx");return null==t?1:Number(t)},t.SoundDict={},e=n([i],t)}();o.default=l,cc._RF.pop()},{"../encryPT/StorageMgr":"StorageMgr","./consts":"consts"}],gameUITools:[function(t,e,o){"use strict";cc._RF.push(e,"c8912ZWSTZCHpb5JqFKUvBX","gameUITools");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return r(e,t),o=e,e.setNodeSprite=function(t,e){var o="images/"+e;cc.loader.loadRes(o,cc.SpriteFrame,function(e,o){e||(t.getComponent(cc.Sprite).spriteFrame=o)})},e.localConvertWorldPointAR2=function(t,e){return t?t.convertToWorldSpaceAR(e):null},e.localConvertWorldPointAR=function(t){return t?t.convertToWorldSpaceAR(cc.v3(0,0,0)):null},e.worldConvertLocalPointAR=function(t,e){return t?t.convertToNodeSpaceAR(e):null},e.convetOtherNodeSpaceAR=function(t,e){if(!t||!e)return null;var n=o.localConvertWorldPointAR(t);return o.worldConvertLocalPointAR(e,n)},e.convetOtherNodeSpaceAR2=function(t,e,n){if(!t||!n)return null;var r=o.localConvertWorldPointAR2(t,e);return o.worldConvertLocalPointAR(n,r)},e.isIphoneX=function(){var t=cc.view.getFrameSize(),e=t.width,o=t.height;return 375===e&&812===o||414===e&&896===o||390===e&&844===o||428===e&&926===o},e.isIpad=function(){var t=cc.view.getFrameSize(),e=t.width,o=t.height;return 768==e&&1024==o||834==e&&1112==o||1024==e&&1366==o},o=i([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],loadPool:[function(t,e,o){"use strict";cc._RF.push(e,"78b6c5MrGxHmZqYi3620TJ+","loadPool");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,function(){function t(){this.ziDianPool={},this.ziDianPrefab={}}var e;return e=t,Object.defineProperty(t,"ins",{get:function(){return this._ins?this._ins:(this._ins=new e,this._ins)},enumerable:!1,configurable:!0}),t.prototype.setPrefab=function(t,e){this.ziDianPrefab[t]=e},t.prototype.getPrefab=function(t){return this.ziDianPrefab[t]},t.prototype.getPoolNode=function(t,e,o){var n,r,i;if("string"==typeof t&&(n=this.ziDianPrefab[t],r=t),this.ziDianPool.hasOwnProperty(r))if((a=this.ziDianPool[r]).size()>0)i=a.get();else{if(!n)return console.log("Pool invalid prefab name = ",r),null;i=cc.instantiate(n)}else{if(!n)return console.log("Pool invalid prefab name = ",r),null;var a=new cc.NodePool;this.ziDianPool[r]=a,i=cc.instantiate(n)}return e&&(i.parent=e,i.active=!0,o&&(i.position=o)),i},t.prototype.huiShouNode=function(t,e){if(void 0===e&&(e=!1),t){var o=t.name,n=null;t.active=e,this.ziDianPool.hasOwnProperty(o)?n=this.ziDianPool[o]:(n=new cc.NodePool,this.ziDianPool[o]=n),n.put(t)}},e=n([i],t)}());o.default=a,cc._RF.pop()},{}],maskBg:[function(t,e,o){"use strict";cc._RF.push(e,"97cf3t3bCxNvoqcvUNQK9kj","maskBg");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onDestroy=function(){this.node.off("touchstart",this.touchStartAction,this)},e.prototype.start=function(){this.node.on("touchstart",this.touchStartAction,this)},e.prototype.touchStartAction=function(){},i([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],rankNode:[function(t,e,o){"use strict";cc._RF.push(e,"1803e1BNeZPvrE7xJhm26ii","rankNode");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{l(n.next(t))}catch(e){i(e)}}function c(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}l((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return l([t,e])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.leaderboardItem=null,e.loadingNode=null,e.content=null,e.playId=null,e.index=null,e}return r(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){this.init()},e.prototype.init=function(){return a(this,void 0,void 0,function(){var t,e,o=this;return c(this,function(){return this.loadingNode.active=!0,this.content.removeAllChildren(),this.scrollView.scrollToTop(0),window.Telegram&&(t=window.Telegram.WebApp.initDataUnsafe.user,e=t.id.toString(),this.playId=e),window.loadTopScores&&window.loadTopScores(function(t){var e=100*t.length;o.content.setContentSize(513,e);var n=t;if(n){o.loadingNode.active=!1;for(var r=0;r<n.length;r++)o.updateRankList(n[r],r);o.updateUseScore(n[o.index],o.index)}}),[2]})})},e.prototype.loadResourceSprite=function(t,e){cc.loader.loadRes(e,cc.SpriteFrame,function(e,o){e||(t.spriteFrame=o)})},e.prototype.updateUseScore=function(t,e){var o=this.node.getChildByName("popUI").getChildByName("playerItem");if(null!==e)switch(e){case 0:this.loadResourceSprite(o.getChildByName("rank").getComponent(cc.Sprite),"ballGame/rank/1");break;case 1:this.loadResourceSprite(o.getChildByName("rank").getComponent(cc.Sprite),"ballGame/rank/2");break;case 2:this.loadResourceSprite(o.getChildByName("rank").getComponent(cc.Sprite),"ballGame/rank/3");break;default:o.getChildByName("rankLabel").getComponent(cc.Label).string=String(e+1),o.removeChild(o.getChildByName("rank"))}else o.getChildByName("rankLabel").getComponent(cc.Label).string="Not Ranked",o.removeChild(o.getChildByName("rank"));t?(o.getChildByName("nameLabel").getComponent(cc.Label).string=t.playerInfo.nickName,o.getChildByName("scoreNode").getChildByName("score").getComponent(cc.Label).string=t.score):(o.getChildByName("nameLabel").getComponent(cc.Label).string="Anonymous",o.getChildByName("scoreNode").getChildByName("score").getComponent(cc.Label).string="0")},e.prototype.updateRankList=function(t,e){var o,n,r=cc.instantiate(this.leaderboardItem);switch(r.parent=this.content,r.position=new cc.Vec3(-510,-60-100*e,0),e){case 0:this.loadResourceSprite(r.getChildByName("rank").getComponent(cc.Sprite),"ballGame/rank/1");break;case 1:this.loadResourceSprite(r.getChildByName("rank").getComponent(cc.Sprite),"ballGame/rank/2");break;case 2:this.loadResourceSprite(r.getChildByName("rank").getComponent(cc.Sprite),"ballGame/rank/3");break;default:r.getChildByName("rankLabel").getComponent(cc.Label).string=String(e+1),r.removeChild(r.getChildByName("rank"))}t&&t.playerId==this.playId?(r.getChildByName("nameLabel").getComponent(cc.Label).string=t.playerInfo.nickName||"Me",this.loadResourceSprite(r.getChildByName("bg").getComponent(cc.Sprite),"ballGame/rank/inrank_item_bg"),r.getChildByName("scoreNode").getChildByName("score").getComponent(cc.Label).string=t&&t.score?t.score:0,this.index=e):(r.getChildByName("nameLabel").getComponent(cc.Label).string=t&&(null===(o=t.playerInfo)||void 0===o?void 0:o.nickName)?null===(n=null==t?void 0:t.playerInfo)||void 0===n?void 0:n.nickName:"",r.getChildByName("scoreNode").getChildByName("score").getComponent(cc.Label).string=t&&t.score?t.score:0),cc.tween(r).to(.1*e,{position:new cc.Vec3(0,-60-100*e,0)}).start()},i([u(cc.ScrollView)],e.prototype,"scrollView",void 0),i([u(cc.Prefab)],e.prototype,"leaderboardItem",void 0),i([u(cc.Node)],e.prototype,"loadingNode",void 0),i([u(cc.Node)],e.prototype,"content",void 0),i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],shareObj:[function(t,e,o){"use strict";cc._RF.push(e,"4b984YWHopHK6gnNcNJIOxI","shareObj");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,t("../gameTools")),c=function(){function t(){}return t.initWxShare=function(){var t=this;cc.sys.platform===cc.sys.WECHAT_GAME&&(wx.onShow(function(){if(this.isShared&&"shareTag"==this.shareTag){var t=(new Date).getTime(),e=Math.floor(4e3*Math.random())+4e3;t-this.startTime>=e?(this.isShared=!1,this.shareTag="",this.startTime=t,this.successFunction(this.wxShareTag)):a.default.showAppMessage("\u6362\u4e2a\u7fa4\u5206\u4eab\u4e00\u4e0b\u5427")}}),wx.onShareAppMessage(function(){return t.isShared=!1,t.shareTag="",{title:"\u7ecf\u5178\u626b\u96f7\u6e38\u620f",imageUrl:a.default.randomGetShareImageUrl()}})),cc.sys.platform===cc.sys.WECHAT_GAME&&wx.showShareMenu({withShareTicket:!0})},t.friendShareAction=function(t,e){void 0===e&&(e=function(){}),this.wxShareTag=t,this.shareTag="shareTag",this.isShared=!0;var o=(new Date).getTime();this.startTime=o,this.successFunction=e,cc.sys.platform===cc.sys.WECHAT_GAME&&wx.shareAppMessage({title:"\u7ecf\u5178\u626b\u96f7\u6e38\u620f",imageUrl:a.default.randomGetShareImageUrl()})},t.isShared=!1,t.shareTag="",t.startTime=0,t.wxShareTag=0,t.successFunction=null,n([i],t)}();o.default=c,cc._RF.pop()},{"../gameTools":"gameTools"}]},{},["ball","ballBottomView","ballCup","ballGameScene","ballSuccessView","ballUITools","frituSortLoadingScene","frituSortStartScene","loadPool","rankNode","Base64","StorageMgr","shareObj","adUnit","consts","gameTools","gameUITools","maskBg"]);